<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒì‚°ì¼ì§€ ì‹œìŠ¤í…œ - ë¡œì»¬ ì ‘ì† ì•ˆë‚´</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="max-w-2xl mx-auto p-8">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-4">ğŸ­ ìƒì‚°ì¼ì§€ ì‹œìŠ¤í…œ</h1>
                <p class="text-gray-600">ë¡œì»¬ ì„œë²„ ì ‘ì† ì•ˆë‚´</p>
            </div>

            <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-red-800">ì ‘ì† ë¶ˆê°€ ì•ˆë‚´</h3>
                        <div class="mt-2 text-sm text-red-700">
                            <p><strong>bonohouse.p-e.kr</strong> ë„ë©”ì¸ì—ì„œëŠ” ë¡œì»¬ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                            <p>ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-xl font-semibold text-gray-800">ì˜¬ë°”ë¥¸ ì ‘ì† ë°©ë²•:</h2>
                
                <div class="bg-blue-50 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-800 mb-2">1. ë¡œì»¬ ì ‘ì† (ê¶Œì¥)</h3>
                    <div class="space-y-2">
                        <a href="http://localhost:5173" class="block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-center transition-colors">
                            ğŸ  ë©”ì¸ ëŒ€ì‹œë³´ë“œ (localhost:5173)
                        </a>
                        <a href="http://localhost:5173/production-log.html" class="block bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 text-center transition-colors">
                            ğŸ“‹ ìƒì‚°ì¼ì§€ í˜ì´ì§€ (localhost:5173/production-log.html)
                        </a>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                    <h3 class="font-semibold text-gray-800 mb-2">2. ëŒ€ì²´ ì ‘ì† ë°©ë²•</h3>
                    <div class="space-y-2">
                        <a href="http://127.0.0.1:5173" class="block bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-center transition-colors">
                            ğŸŒ ë©”ì¸ ëŒ€ì‹œë³´ë“œ (127.0.0.1:5173)
                        </a>
                        <a href="http://127.0.0.1:5173/production-log.html" class="block bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-center transition-colors">
                            ğŸ“‹ ìƒì‚°ì¼ì§€ í˜ì´ì§€ (127.0.0.1:5173/production-log.html)
                        </a>
                    </div>
                </div>
            </div>

            <div class="mt-8 p-4 bg-green-50 rounded-lg">
                <h3 class="font-semibold text-green-800 mb-2">âœ… ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                <div class="text-sm text-green-700 space-y-1">
                    <p>â€¢ ì„œë²„: ì •ìƒ ì‹¤í–‰ ì¤‘ (í¬íŠ¸ 5173)</p>
                    <p>â€¢ ìƒì‚°ì¼ì§€ ë°ì´í„°: 468ê°œ ë ˆì½”ë“œ (14ê°œ ë‚ ì§œ)</p>
                    <p>â€¢ ì‹¤ì‹œê°„ ë™ê¸°í™”: í™œì„±í™”</p>
                    <p>â€¢ ëª¨ë“  API: ì •ìƒ ì‘ë™</p>
                </div>
            </div>

            <div class="mt-6 text-center">
                <button onclick="checkConnection()" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition-colors">
                    ğŸ” ì—°ê²° ìƒíƒœ í™•ì¸
                </button>
            </div>

            <div id="connection-status" class="mt-4 hidden"></div>
        </div>
    </div>

    <script>
        async function checkConnection() {
            const statusDiv = document.getElementById('connection-status');
            statusDiv.classList.remove('hidden');
            statusDiv.innerHTML = `
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="text-blue-800">ì—°ê²° ìƒíƒœë¥¼ í™•ì¸ ì¤‘...</p>
                </div>
            `;

            try {
                const baseUrl = window.location.protocol + '//' + window.location.host;
                const apiUrl = baseUrl + '/api/production-log';
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                if (data.success) {
                    statusDiv.innerHTML = `
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-green-800 mb-2">âœ… ì—°ê²° ì„±ê³µ!</h4>
                            <div class="text-sm text-green-700">
                                <p>â€¢ API ì‘ë‹µ: ì •ìƒ</p>
                                <p>â€¢ ë°ì´í„° ìˆ˜: ${data.data?.length || 0}ê°œ</p>
                                <p>â€¢ ìµœì‹  ë‚ ì§œ: ${data.latestDate || 'N/A'}</p>
                                <p>â€¢ ì´ ë ˆì½”ë“œ: ${data.totalRecords || 0}ê°œ</p>
                            </div>
                        </div>
                    `;
                } else {
                    throw new Error('API ì‘ë‹µ ì˜¤ë¥˜');
                }
            } catch (error) {
                statusDiv.innerHTML = `
                    <div class="bg-red-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-red-800 mb-2">âŒ ì—°ê²° ì‹¤íŒ¨</h4>
                        <p class="text-sm text-red-700">${error.message}</p>
                        <p class="text-sm text-red-600 mt-2">ìœ„ì˜ localhost ë§í¬ë¥¼ í´ë¦­í•´ì£¼ì„¸ìš”.</p>
                    </div>
                `;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì—°ê²° í™•ì¸
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(checkConnection, 1000);
        });
    </script>
</body>
</html>